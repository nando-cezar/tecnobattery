create table tb_address (id int8 generated by default as identity, cep varchar(255), city varchar(255), complement varchar(255), neighborhood varchar(255), state varchar(255), street varchar(255), primary key (id));
create table tb_category (id int8 generated by default as identity, name varchar(255), primary key (id));
create table tb_client (id int8 generated by default as identity, cnpj varchar(255), fantasy_name varchar(255), name varchar(255), address_id int8, primary key (id));
create table tb_client_email (client_id int8 not null, email_id int8 not null, primary key (client_id, email_id));
create table tb_client_telephone (client_id int8 not null, telephone_id int8 not null, primary key (client_id, telephone_id));
create table tb_comment (id int8 generated by default as identity, description varchar(255), moment timestamp, title varchar(255), order_id int8, user_id int8, primary key (id));
create table tb_email (id int8 generated by default as identity, address varchar(255), primary key (id));
create table tb_feedstock (id int8 generated by default as identity, brand varchar(255), capacity int4, description varchar(255), diameter int4, height int4, image_url varchar(255), length int4, model varchar(255), power int4, voltage int4, weight int4, width int4, category_id int8, primary key (id));
create table tb_order (id int8 generated by default as identity, deadline timestamp, description varchar(255), opening timestamp, price float8, status varchar(255), client_id int8, primary key (id));
create table tb_order_product (order_id int8 not null, product_id int8 not null, primary key (order_id, product_id));
create table tb_order_user (order_id int8 not null, user_id int8 not null, primary key (order_id, user_id));
create table tb_product (id int8 generated by default as identity, description varchar(255), image_url varchar(255), name varchar(255), price float8, primary key (id));
create table tb_provider (id int8 generated by default as identity, cnpj varchar(255), fantasy_name varchar(255), name varchar(255), address_id int8, primary key (id));
create table tb_provider_email (provider_id int8 not null, email_id int8 not null, primary key (provider_id, email_id));
create table tb_provider_telephone (provider_id int8 not null, telephone_id int8 not null, primary key (provider_id, telephone_id));
create table tb_stock (id int8 generated by default as identity, amount int4, moment timestamp, feedstock_id int8, provider_id int8, primary key (id));
create table tb_telephone (id int8 generated by default as identity, number varchar(255), primary key (id));
create table tb_user (id int8 generated by default as identity, is_account_non_expired boolean not null, is_account_non_locked boolean not null, is_credentials_non_expired boolean not null, is_enabled boolean not null, password varchar(255), role varchar(255), username varchar(255), primary key (id));
create table tb_user_email (user_id int8 not null, email_id int8 not null, primary key (user_id, email_id));
create table tb_user_telephone (user_id int8 not null, telephone_id int8 not null, primary key (user_id, telephone_id));
alter table if exists tb_client_email add constraint UK_dwwyc8maku95u89jlj65ryyao unique (email_id);
alter table if exists tb_client_telephone add constraint UK_rbh9cmq92o3ptlkdlihu30ycd unique (telephone_id);
alter table if exists tb_provider_email add constraint UK_cdr6l6j3hfcftthkt3r5gl8dd unique (email_id);
alter table if exists tb_provider_telephone add constraint UK_jvf51al0m9efrhq35hvtpn0op unique (telephone_id);
alter table if exists tb_user_email add constraint UK_1tbsedpknoktpjxkm7i4420d5 unique (email_id);
alter table if exists tb_user_telephone add constraint UK_3yuirpb1arfarhw3ifnmhsfu9 unique (telephone_id);
alter table if exists tb_client add constraint FKnma1100f0pgxukinshf5ab061 foreign key (address_id) references tb_address;
alter table if exists tb_client_email add constraint FKao39c398rlfc0xjaimm1flokv foreign key (email_id) references tb_email;
alter table if exists tb_client_email add constraint FKaef5ue03qy6h7k0kehhdbgi87 foreign key (client_id) references tb_client;
alter table if exists tb_client_telephone add constraint FKatusqtia5ho52r09wksvu2oq2 foreign key (telephone_id) references tb_telephone;
alter table if exists tb_client_telephone add constraint FKpag7i2ytl2e0gcke5dc0xb2s2 foreign key (client_id) references tb_client;
alter table if exists tb_comment add constraint FKmhr86dg7dwxtm85ai780mxs20 foreign key (order_id) references tb_order;
alter table if exists tb_comment add constraint FK45c1cuqlljd60ihc9j0962ekq foreign key (user_id) references tb_user;
alter table if exists tb_feedstock add constraint FK7te0iw3m5umj5hncvo62q8vl6 foreign key (category_id) references tb_category;
alter table if exists tb_order add constraint FK7c9of0p9ogx0w8sfrebt4n9kk foreign key (client_id) references tb_client;
alter table if exists tb_order_product add constraint FKsu03ywlcvyqg5y78qey2q25lc foreign key (product_id) references tb_product;
alter table if exists tb_order_product add constraint FK40anaevs16kmc2tbh7wc511fq foreign key (order_id) references tb_order;
alter table if exists tb_order_user add constraint FKmf0r2e4r99087lsnj5wv2581l foreign key (user_id) references tb_user;
alter table if exists tb_order_user add constraint FK6lcijqsvx1lcdv1lun593qyps foreign key (order_id) references tb_order;
alter table if exists tb_provider add constraint FKnau9m7s4k9nsnk4o116m50uet foreign key (address_id) references tb_address;
alter table if exists tb_provider_email add constraint FK8t4bovsv74d733l4wh5hu0sq8 foreign key (email_id) references tb_email;
alter table if exists tb_provider_email add constraint FKo67td03clwchmv4v3i8e2rif4 foreign key (provider_id) references tb_provider;
alter table if exists tb_provider_telephone add constraint FKk0dupy1qs9ekkna5n1icx2ub foreign key (telephone_id) references tb_telephone;
alter table if exists tb_provider_telephone add constraint FKg9piub2yoxocsk37hclxu6iy9 foreign key (provider_id) references tb_provider;
alter table if exists tb_stock add constraint FK14k0g31t7kjf8x6h416arqibu foreign key (feedstock_id) references tb_feedstock;
alter table if exists tb_stock add constraint FK2crggr2l3sv6vdka9652kiutm foreign key (provider_id) references tb_provider;
alter table if exists tb_user_email add constraint FKki9d7w23tfh3h4ufmro4kth3r foreign key (email_id) references tb_email;
alter table if exists tb_user_email add constraint FKelu6hu0cpees1yqrfiysvn9hu foreign key (user_id) references tb_user;
alter table if exists tb_user_telephone add constraint FK318g281kc6ew90t7iq1pwssut foreign key (telephone_id) references tb_telephone;
alter table if exists tb_user_telephone add constraint FKdfjn3rps4vj4y570twc5gxkl3 foreign key (user_id) references tb_user;
